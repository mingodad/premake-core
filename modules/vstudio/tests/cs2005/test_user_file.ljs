//
// tests/actions/vstudio/cs2005/test_user_file.ljs
// Verify handling of empty and non-empty .user files for VC#.
// Copyright (c) 2015 Jason Perkins and the Premake project
//

	var p = premake;
	var suite = test.declare("vstudio_cs2005_user_file");
	var cs2005 = p.vstudio.cs2005;


//
// Setup
//

	var wks;

	function suite.setup() {
		p.action.set("vs2008");
		wks = test.createWorkspace();
		language ("C#");
	}

	var function prepare() {
		var prj = test.getproject(wks, 1);
		cs2005.generateUser(prj);
	}


//
// If no debugger settings have been specified, then the .user
// file should not be written at all.
//

	function suite.noOutput_onNoSettings() {
		prepare();
		test.isemptycapture();
	}


//
// If a debugger setting has been specified, output.
//

	function suite.doesOutput_onDebugSettings() {
		debugargs ({ "hello" });
		prepare();
		test.hasoutput();
	}

