//
// tests/test_premake.ljs
// Automated test suite for the Premake support functions.
// Copyright (c) 2008-2015 Jason Perkins and the Premake project
//


	var suite = test.declare("premake");

	var p = premake;


//
// Setup
//

	var wks, prj;
	function suite.setup() {
		wks = test.createWorkspace();
		location ("MyLocation");
		prj = p.workspace.getproject(wks, 1);
	}


//
// generate() tests
//

	function suite.generate_OpensCorrectFile() {
		p.generate(prj, ".prj", function () { });
		test.openedfile(path.join(os.getcwd(), "MyLocation/MyProject.prj"));
	}

	function suite.generate_ClosesFile() {
		p.generate(prj, ".prj", function () { });
		test.closedfile(true);
	}
