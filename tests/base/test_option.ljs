//
// tests/base/test_option.ljs
// Verify the handling of command line options and the _OPTIONS table.
// Copyright (c) 2014 Jason Perkins and the Premake project
//

	var p = premake;
	var suite = test.declare("base_option");


//
// Setup and teardown.
//

	function suite.setup() {
		_OPTIONS["testopt"] = "testopt";
	}

	function suite.teardown() {
		_OPTIONS["testopt"] = null;
	}


//
// Because we can't control how the user will type in options on the
// command line, all key lookups should be case insensitive.
//

	function suite.returnsCorrectOption_onMixedCase() {
		test.isnotnil(_OPTIONS["TestOpt"]);
	}

//
// Because we can't control how the user will type in options in the
// premake script, keys should be stored in lowercase.
//

	function suite.storesOptionCorrectly_onMixedCase() {
		newoption ({
			trigger = "TestOpt2",
			description = "Testing",
		});

		test.isnotnil(p.option.get("testopt2"));
	}
