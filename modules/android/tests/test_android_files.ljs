var p = premake;
var suite = test.declare("test_android_files");
var vc2010 = p.vstudio.vc2010;


//
// Setup
//

	var wks, prj;

	function suite.setup() {
		p.action.set("vs2015");
		wks = test.createWorkspace();
	}

	var function prepare() {
		prj = test.getproject(wks, 1);
		system ("android");
		vc2010.files(prj);
	}


//
// Test filtering of source files into the correct categories.
//

	function suite.none_onJavaFile() {
		files ({ "hello.java" });
		prepare();
		test.capture ([=[
<ItemGroup>
	<None Include="hello.java" />
</ItemGroup>
		]=]);
	}

	function suite.javaCompile_onJavaFile() {
		kind ("androidproj");
		files ({ "hello.java" });
		prepare();
		test.capture ([=[
<ItemGroup>
	<JavaCompile Include="hello.java" />
</ItemGroup>
		]=]);
	}
